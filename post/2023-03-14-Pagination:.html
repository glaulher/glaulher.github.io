<!DOCTYPE html><html class="dark" lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Blog Post-it - tips software developer</title><meta name="next-head-count" content="3"/><meta name="description" content="tips to Software engineer"/><link rel="shortcut icon" href="/icons/favicon.ico"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/fc213459fb97a223.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fc213459fb97a223.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-5020794388548d5e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-cb70f64a5556a30d.js" defer=""></script><script src="/_next/static/chunks/980-13c5ebce3d92dd6c.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-0d7c5f58ce636cec.js" defer=""></script><script src="/_next/static/Z-Z3-Mln8C51_MylYNhoZ/_buildManifest.js" defer=""></script><script src="/_next/static/Z-Z3-Mln8C51_MylYNhoZ/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0&display=swap">@font-face{font-family:'Material Symbols Outlined';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/materialsymbolsoutlined/v92/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1n-q_4MrImHCIJIZrDCvHOel.woff) format('woff')}.material-symbols-outlined{font-family:'Material Symbols Outlined';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;font-feature-settings:'liga'}@font-face{font-family:'Material Symbols Outlined';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/materialsymbolsoutlined/v92/kJF1BvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oDMzByHX9rA6RzaxHMPdY43zj-jCxv3fzvRNU22ZXGJpEpjC_1n-q_4MrImHCIJIZrDCvHOelbd5zrDAt.woff) format('woff')}.material-symbols-outlined{font-family:'Material Symbols Outlined';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}</style></head><body class="transition transform duration-700 ease-in-out dark:bg-slate-800"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="flex flex-col min-h-screen"><header class="bg-gray-700 mb-3 px-6 py-4 "><div class="container lg:mx-auto md:mx-auto flex justify-center"><a href="/"><img alt="Menu" src="/menuIcons/svgviewer-output.svg" width="60" height="60" decoding="async" data-nimg="1" class=" -mb-4 -mt-3 " loading="lazy" style="color:transparent"/></a><a href="/"><p class="text-lg ml-4 -mt-4 text-neutral-200 hover:text-sky-700">Bem vindo ao</p><p class="text-lg ml-8 -mb-4 text-neutral-200 hover:text-sky-700">Blog Post-it</p></a><div class=" ml-auto text-neutral-200"><button type="button" aria-label="Toggle dark mode"><span class="hover:text-sky-700 material-symbols-outlined"></span></button></div></div></header><main class="container mx-auto flex-1"><div class="prose dark:prose-invert mx-auto"><a href="/"><p class="absolute right-10 text-sm mt-2 dark:text-neutral-200 hover:text-sky-700 dark:hover:text-sky-700">Voltar ↵</p></a><div class="relative flex justify-center ml-1 mr-24"><span class="text-xl font-bold md:text-3xl">Componente de paginação em react</span></div><div class="mx-1"><hr>
<p>A paginação é um recurso que permite dividir grandes conjuntos de dados em páginas facilitando a visualização e a navegação para o usuário, é amplamente utilizado em interfaces que precisam lidar com grandes volumes de dados.</p>
<p>Para criar um componete de paginação de exemplo utilizarei o vite:</p>
<pre><code class="language-shell">npm create vite@latest paginate -- --template  
</code></pre>
<p>No próximo passo escolher react:</p>
<pre><code class="language-shell">? Select a framework: › - Use arrow-keys. Return to submit.
    Vanilla
    Vue
❯   React
    Preact
    Lit
    Svelte
    Others
</code></pre>
<p>No próximo passo escolher typescript:</p>
<pre><code class="language-shell">✔ Select a framework: › React
? Select a variant: › - Use arrow-keys. Return to submit.
    JavaScript
❯   TypeScript
    JavaScript + SWC
    TypeScript + SWC
</code></pre>
<p>Entrar na pasta e rodar o <code>npm install</code></p>
<pre><code class="language-shell">✔ Select a framework: › React
✔ Select a variant: › TypeScript

Scaffolding project in ~/Documentos/teste/paginate...

Done. Now run:

  cd paginate
  npm install
  npm run dev
</code></pre>
<p>Criar na raiz do projeto o arquivo <code>.eslintrc.json</code>, instalar o pacote a seguir:</p>
<pre><code class="language-shell">npm i -D @rocketseat/eslint-config
</code></pre>
<p>Abrir o arquivo <code>.eslintrc.json</code> e deixar conforme a seguir:</p>
<pre><code class="language-javascript">{
  &quot;extends&quot;: &quot;@rocketseat/eslint-config/react&quot;
  // &quot;extends&quot;: &quot;@rocketseat/eslint-config/node&quot;
}
</code></pre>
<p><a href="https://raw.githubusercontent.com/glaulher/example/paginate/src/data/mock-data.json">Baixe</a> o arquivo mock-data.json e coloque em  <code>src/data/</code> ,  crie <code>Pagination.tsx</code> dentro de <code>src/</code>e deixe conforme a seguir:</p>
<pre><code class="language-javascript">import React from 'react'
import { usePagination, DOTS } from './usePagination'
import './pagination.scss'

type PaginationProps = {
  onPageChange: (page: number) =&gt; void
  totalCount: number
  siblingCount: number
  currentPage: number
  pageSize: number
  className: string
}

const Pagination = ({
  onPageChange,
  totalCount,
  siblingCount = 1,
  currentPage,
  pageSize,
}: PaginationProps) =&gt; {
  const paginationRange = usePagination({
    currentPage,
    totalCount,
    siblingCount,
    pageSize,
  })

  if (currentPage === 0 || paginationRange!.length &lt; 2) {
    return null
  }

  const onNext = () =&gt; {
    onPageChange(currentPage + 1)
  }

  const onPrevious = () =&gt; {
    onPageChange(currentPage - 1)
  }

  const lastPage = paginationRange![paginationRange!.length - 1]
  return (
    &lt;ul className=&quot;pagination-container&quot;&gt;
      &lt;li
        className={`pagination-item ${currentPage === 1 &amp;&amp; 'disabled'}`}
        onClick={onPrevious}
      &gt;
        &lt;div className=&quot;arrow left&quot; /&gt;
      &lt;/li&gt;
      {paginationRange!.map((pageNumber) =&gt; {
        if (pageNumber === DOTS) {
          return (
            &lt;li key={pageNumber} className=&quot;pagination-item dots&quot;&gt;
              &amp;#8230;
            &lt;/li&gt;
          )
        }

        return (
          &lt;li
            className={`pagination-item ${
              pageNumber === currentPage &amp;&amp; 'selected'
            }`}
            onClick={() =&gt; onPageChange(Number(pageNumber))}
            key={pageNumber}
          &gt;
            {pageNumber}
          &lt;/li&gt;
        )
      })}
      &lt;li
        className={`pagination-item ${currentPage === lastPage &amp;&amp; 'disabled'}`}
        onClick={onNext}
      &gt;
        &lt;div className=&quot;arrow right&quot; /&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  )
}

export default Pagination
</code></pre>
<p>Crie  <code>pagination.scss</code>  dentro de <code>src/</code> deixano conforme abaixo:</p>
<pre><code class="language-javascript">.pagination-container {
  display: flex;
  list-style-type: none;

  .pagination-item {
    padding: 0 12px;
    height: 32px;
    text-align: center;
    margin: auto 4px;
    color: rgba(0, 0, 0, 0.87);
    display: flex;
    box-sizing: border-box;
    align-items: center;
    letter-spacing: 0.01071em;
    border-radius: 16px;
    line-height: 1.43;
    font-size: 13px;
    min-width: 32px;

    &amp;.dots:hover {
      background-color: transparent;
      cursor: default;
    }
    &amp;:hover {
      background-color: rgba(0, 0, 0, 0.04);
      cursor: pointer;
    }

    &amp;.selected {
      background-color: rgba(0, 0, 0, 0.08);
    }

    .arrow {
      &amp;::before {
        position: relative;
        /* top: 3pt; Remova essa linha do comentário para baixar os ícones conforme solicitado nos comentários*/
        content: '';
        /* Usando uma escala em, as setas terão o tamanho acompanhando a fonte */
        display: inline-block;
        width: 0.4em;
        height: 0.4em;
        border-right: 0.12em solid rgba(0, 0, 0, 0.87);
        border-top: 0.12em solid rgba(0, 0, 0, 0.87);
      }

      &amp;.left {
        transform: rotate(-135deg) translate(-50%);
      }

      &amp;.right {
        transform: rotate(45deg);
      }
    }

    &amp;.disabled {
      pointer-events: none;

      .arrow::before {
        border-right: 0.12em solid rgba(0, 0, 0, 0.43);
        border-top: 0.12em solid rgba(0, 0, 0, 0.43);
      }

      &amp;:hover {
        background-color: transparent;
        cursor: default;
      }
    }
  }
}
</code></pre>
<p>Instale  o pacote <code>sass</code>:</p>
<pre><code class="language-shell">npm i sass
</code></pre>
<h4>Sobre Pagination:</h4>
<p>Pagination usa um hook personalizado chamado <code>usePagination</code> para calcular quais páginas devem ser exibidas e em que ordem.</p>
<p>O componente renderiza uma lista de números de página, com a página atual destacada. O usuário poderá navegar pelos resultados da  lista dividida em várias páginas.</p>
<p>Propriedades do componente:</p>
<ul>
<li>onPageChange: uma função que será chamada quando o usuário clicar em um número de página. Ela recebe como parâmetro o número da página que o usuário selecionou.</li>
<li>totalCount: o número total de itens que serão paginados.</li>
<li>siblingCount: o número de links de página exibidos à esquerda e à direita do link da página atual. O padrão é 1.</li>
<li>currentPage: o número da página atual.</li>
<li>pageSize: o número de itens exibidos em cada página.</li>
</ul>
<p>O componente usa a função usePagination para gerar uma matriz de números de página que deve ser exibida ao usuário. Essa função recebe como parâmetros a página atual, o número total de itens, o número de links  e o tamanho da página.</p>
<p>A função usePagination retorna uma matriz de números de página que deve ser exibida na interface do usuário. Ela também pode incluir um valor especial DOTS, que é usado para indicar que há mais páginas entre as que já estão sendo exibidas.</p>
<p>O componente usa o currentPage e o paginationRange para gerar a lista de números de página que serão exibidos para o usuário. Ele também usa as funções onNext e onPrevious para permitir que o usuário navegue para a próxima ou para a página anterior, respectivamente.</p>
<p>O componente renderiza a lista de números de página em uma lista não ordenada HTML (&lt;ul&gt;), com cada número de página sendo um item de lista (&lt;li&gt;). O item da lista atual é destacado com a classe CSS &quot;selected&quot;.</p>
<p>O componente também renderiza setas para permitir que o usuário navegue para a próxima ou para a página anterior. Se o usuário estiver na primeira ou na última página, o componente desativa o link correspondente para que ele não possa ser clicado.</p>
<p>Crie <code>usePagination.ts</code> dentro de <code>src/</code>e deixe conforme a seguir:</p>
<pre><code class="language-javascript">import { useMemo } from 'react'

export const DOTS = '...'

interface Props {
  totalCount: number
  pageSize: number
  siblingCount: number
  currentPage: number
}

const range = (start: number, end: number) =&gt; {
  const length = end - start + 1
  return Array.from({ length }, (_, idx) =&gt; idx + start)
}

export const usePagination = ({
  totalCount,
  pageSize,
  siblingCount = 1,
  currentPage,
}: Props) =&gt; {
  const paginationRange = useMemo(() =&gt; {
    const totalPageCount = Math.ceil(totalCount / pageSize)
   
    const totalPageNumbers = siblingCount + 5

    if (totalPageNumbers &gt;= totalPageCount) {
      return range(1, totalPageCount)
    }

    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1)
    const rightSiblingIndex = Math.min(
      currentPage + siblingCount,
      totalPageCount,
    )

   
    const shouldShowLeftDots = leftSiblingIndex &gt; 2
    const shouldShowRightDots = rightSiblingIndex &lt; totalPageCount - 2

    const firstPageIndex = 1
    const lastPageIndex = totalPageCount

    if (!shouldShowLeftDots &amp;&amp; shouldShowRightDots) {
      const leftItemCount = 3 + 2 * siblingCount
      const leftRange = range(1, leftItemCount)

      return [...leftRange, DOTS, totalPageCount]
    }

    if (shouldShowLeftDots &amp;&amp; !shouldShowRightDots) {
      const rightItemCount = 3 + 2 * siblingCount
      const rightRange = range(
        totalPageCount - rightItemCount + 1,
        totalPageCount,
      )
      return [firstPageIndex, DOTS, ...rightRange]
    }

    if (shouldShowLeftDots &amp;&amp; shouldShowRightDots) {
      const middleRange = range(leftSiblingIndex, rightSiblingIndex)
      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex]
    }
    return undefined
  }, [totalCount, pageSize, siblingCount, currentPage])

  return paginationRange
}

</code></pre>
<h4>Sobre usePagination:</h4>
<p>Este código é  responsável por retornar uma lista de páginas a serem exibidas em um componente de paginação, dado um conjunto de parâmetros de entrada, como o número total de itens, o número de itens por página, o número de itens vizinhos a serem exibidos à esquerda e à direita da página atual e a página atual.</p>
<p>A função <code>range</code> é uma função que cria um array de números inteiros de um intervalo específico.</p>
<p>O hook calcula o número total de páginas necessárias, em seguida, calcula o número total de páginas que devem ser exibidas (incluindo páginas vizinhas e pontos de suspensão), que é definido como <code>siblingCount + 5</code>.</p>
<p>Se o número total de páginas for menor ou igual ao número total de páginas que devem ser exibidas, a função simplesmente retorna um array contendo todas as páginas de 1 a <code>totalPageCount</code>.</p>
<p>Se o número total de páginas for maior que o número total de páginas que devem ser exibidas, a função calculará quais páginas vizinhas devem ser exibidas com base na página atual e no número de páginas vizinhas desejadas. A função também calcula se os pontos de suspensão devem ser exibidos à esquerda ou à direita, com base nas páginas vizinhas calculadas anteriormente.</p>
<p>A função <code>useMemo</code> é usada para armazenar em cache o resultado da lista de páginas, garantindo que ela só seja recalculada quando as dependências (total de itens, número de itens por página, número de itens vizinhos e página atual) mudarem.</p>
<p>No final, o hook retorna a lista de páginas calculada.</p>
<p><img src="/images/posts/paginate.gif" alt="gif pagination"></p>
</div></div></main><footer class="bg-gray-700 mt-1 py-4"><div class="container mx-auto flex justify-center"><span class="mx-auto text-neutral-200">© 2023 GrmDevTips</span></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Componente de paginação em react","metaDesc":"A paginação é um recurso que permite dividir grandes conjuntos de dados em páginas","author":"Glaulher Medeiros","socialImage":"images/banner/PaginateBanner.png","date":"2023-03-14T19:34:00.000Z","categories":["Blogging","Tutorial"],"tags":["Component","React"]},"content":"\n***\n\nA paginação é um recurso que permite dividir grandes conjuntos de dados em páginas facilitando a visualização e a navegação para o usuário, é amplamente utilizado em interfaces que precisam lidar com grandes volumes de dados.\n\nPara criar um componete de paginação de exemplo utilizarei o vite:\n\n```shell\nnpm create vite@latest paginate -- --template  \n```\n\nNo próximo passo escolher react:\n\n```shell\n? Select a framework: › - Use arrow-keys. Return to submit.\n    Vanilla\n    Vue\n❯   React\n    Preact\n    Lit\n    Svelte\n    Others\n```\n\nNo próximo passo escolher typescript:\n\n```shell\n✔ Select a framework: › React\n? Select a variant: › - Use arrow-keys. Return to submit.\n    JavaScript\n❯   TypeScript\n    JavaScript + SWC\n    TypeScript + SWC\n```\n\nEntrar na pasta e rodar o `npm install`\n\n```shell\n✔ Select a framework: › React\n✔ Select a variant: › TypeScript\n\nScaffolding project in ~/Documentos/teste/paginate...\n\nDone. Now run:\n\n  cd paginate\n  npm install\n  npm run dev\n```\n\nCriar na raiz do projeto o arquivo `.eslintrc.json`, instalar o pacote a seguir:\n\n```shell\nnpm i -D @rocketseat/eslint-config\n```\n\nAbrir o arquivo `.eslintrc.json` e deixar conforme a seguir:\n\n```javascript\n{\n  \"extends\": \"@rocketseat/eslint-config/react\"\n  // \"extends\": \"@rocketseat/eslint-config/node\"\n}\n```\n\n[Baixe](https://raw.githubusercontent.com/glaulher/example/paginate/src/data/mock-data.json ) o arquivo mock-data.json e coloque em  `src/data/` ,  crie `Pagination.tsx` dentro de `src/`e deixe conforme a seguir:\n\n```javascript\nimport React from 'react'\nimport { usePagination, DOTS } from './usePagination'\nimport './pagination.scss'\n\ntype PaginationProps = {\n  onPageChange: (page: number) =\u003e void\n  totalCount: number\n  siblingCount: number\n  currentPage: number\n  pageSize: number\n  className: string\n}\n\nconst Pagination = ({\n  onPageChange,\n  totalCount,\n  siblingCount = 1,\n  currentPage,\n  pageSize,\n}: PaginationProps) =\u003e {\n  const paginationRange = usePagination({\n    currentPage,\n    totalCount,\n    siblingCount,\n    pageSize,\n  })\n\n  if (currentPage === 0 || paginationRange!.length \u003c 2) {\n    return null\n  }\n\n  const onNext = () =\u003e {\n    onPageChange(currentPage + 1)\n  }\n\n  const onPrevious = () =\u003e {\n    onPageChange(currentPage - 1)\n  }\n\n  const lastPage = paginationRange![paginationRange!.length - 1]\n  return (\n    \u003cul className=\"pagination-container\"\u003e\n      \u003cli\n        className={`pagination-item ${currentPage === 1 \u0026\u0026 'disabled'}`}\n        onClick={onPrevious}\n      \u003e\n        \u003cdiv className=\"arrow left\" /\u003e\n      \u003c/li\u003e\n      {paginationRange!.map((pageNumber) =\u003e {\n        if (pageNumber === DOTS) {\n          return (\n            \u003cli key={pageNumber} className=\"pagination-item dots\"\u003e\n              \u0026#8230;\n            \u003c/li\u003e\n          )\n        }\n\n        return (\n          \u003cli\n            className={`pagination-item ${\n              pageNumber === currentPage \u0026\u0026 'selected'\n            }`}\n            onClick={() =\u003e onPageChange(Number(pageNumber))}\n            key={pageNumber}\n          \u003e\n            {pageNumber}\n          \u003c/li\u003e\n        )\n      })}\n      \u003cli\n        className={`pagination-item ${currentPage === lastPage \u0026\u0026 'disabled'}`}\n        onClick={onNext}\n      \u003e\n        \u003cdiv className=\"arrow right\" /\u003e\n      \u003c/li\u003e\n    \u003c/ul\u003e\n  )\n}\n\nexport default Pagination\n```\n\nCrie  `pagination.scss`  dentro de `src/` deixano conforme abaixo:\n\n```javascript\n.pagination-container {\n  display: flex;\n  list-style-type: none;\n\n  .pagination-item {\n    padding: 0 12px;\n    height: 32px;\n    text-align: center;\n    margin: auto 4px;\n    color: rgba(0, 0, 0, 0.87);\n    display: flex;\n    box-sizing: border-box;\n    align-items: center;\n    letter-spacing: 0.01071em;\n    border-radius: 16px;\n    line-height: 1.43;\n    font-size: 13px;\n    min-width: 32px;\n\n    \u0026.dots:hover {\n      background-color: transparent;\n      cursor: default;\n    }\n    \u0026:hover {\n      background-color: rgba(0, 0, 0, 0.04);\n      cursor: pointer;\n    }\n\n    \u0026.selected {\n      background-color: rgba(0, 0, 0, 0.08);\n    }\n\n    .arrow {\n      \u0026::before {\n        position: relative;\n        /* top: 3pt; Remova essa linha do comentário para baixar os ícones conforme solicitado nos comentários*/\n        content: '';\n        /* Usando uma escala em, as setas terão o tamanho acompanhando a fonte */\n        display: inline-block;\n        width: 0.4em;\n        height: 0.4em;\n        border-right: 0.12em solid rgba(0, 0, 0, 0.87);\n        border-top: 0.12em solid rgba(0, 0, 0, 0.87);\n      }\n\n      \u0026.left {\n        transform: rotate(-135deg) translate(-50%);\n      }\n\n      \u0026.right {\n        transform: rotate(45deg);\n      }\n    }\n\n    \u0026.disabled {\n      pointer-events: none;\n\n      .arrow::before {\n        border-right: 0.12em solid rgba(0, 0, 0, 0.43);\n        border-top: 0.12em solid rgba(0, 0, 0, 0.43);\n      }\n\n      \u0026:hover {\n        background-color: transparent;\n        cursor: default;\n      }\n    }\n  }\n}\n```\n\nInstale  o pacote `sass`:\n\n```shell\nnpm i sass\n```\n\n#### Sobre Pagination:\n\nPagination usa um hook personalizado chamado `usePagination` para calcular quais páginas devem ser exibidas e em que ordem.\n\nO componente renderiza uma lista de números de página, com a página atual destacada. O usuário poderá navegar pelos resultados da  lista dividida em várias páginas.\n\n Propriedades do componente:\n\n- onPageChange: uma função que será chamada quando o usuário clicar em um número de página. Ela recebe como parâmetro o número da página que o usuário selecionou.\n- totalCount: o número total de itens que serão paginados.\n- siblingCount: o número de links de página exibidos à esquerda e à direita do link da página atual. O padrão é 1.\n- currentPage: o número da página atual.\n- pageSize: o número de itens exibidos em cada página.\n\nO componente usa a função usePagination para gerar uma matriz de números de página que deve ser exibida ao usuário. Essa função recebe como parâmetros a página atual, o número total de itens, o número de links  e o tamanho da página.\n\nA função usePagination retorna uma matriz de números de página que deve ser exibida na interface do usuário. Ela também pode incluir um valor especial DOTS, que é usado para indicar que há mais páginas entre as que já estão sendo exibidas.\n\nO componente usa o currentPage e o paginationRange para gerar a lista de números de página que serão exibidos para o usuário. Ele também usa as funções onNext e onPrevious para permitir que o usuário navegue para a próxima ou para a página anterior, respectivamente.\n\nO componente renderiza a lista de números de página em uma lista não ordenada HTML (\\\u003cul\u003e), com cada número de página sendo um item de lista (\\\u003cli\u003e). O item da lista atual é destacado com a classe CSS \"selected\".\n\nO componente também renderiza setas para permitir que o usuário navegue para a próxima ou para a página anterior. Se o usuário estiver na primeira ou na última página, o componente desativa o link correspondente para que ele não possa ser clicado.\n\n\n\nCrie `usePagination.ts` dentro de `src/`e deixe conforme a seguir:\n\n```javascript\nimport { useMemo } from 'react'\n\nexport const DOTS = '...'\n\ninterface Props {\n  totalCount: number\n  pageSize: number\n  siblingCount: number\n  currentPage: number\n}\n\nconst range = (start: number, end: number) =\u003e {\n  const length = end - start + 1\n  return Array.from({ length }, (_, idx) =\u003e idx + start)\n}\n\nexport const usePagination = ({\n  totalCount,\n  pageSize,\n  siblingCount = 1,\n  currentPage,\n}: Props) =\u003e {\n  const paginationRange = useMemo(() =\u003e {\n    const totalPageCount = Math.ceil(totalCount / pageSize)\n   \n    const totalPageNumbers = siblingCount + 5\n\n    if (totalPageNumbers \u003e= totalPageCount) {\n      return range(1, totalPageCount)\n    }\n\n    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1)\n    const rightSiblingIndex = Math.min(\n      currentPage + siblingCount,\n      totalPageCount,\n    )\n\n   \n    const shouldShowLeftDots = leftSiblingIndex \u003e 2\n    const shouldShowRightDots = rightSiblingIndex \u003c totalPageCount - 2\n\n    const firstPageIndex = 1\n    const lastPageIndex = totalPageCount\n\n    if (!shouldShowLeftDots \u0026\u0026 shouldShowRightDots) {\n      const leftItemCount = 3 + 2 * siblingCount\n      const leftRange = range(1, leftItemCount)\n\n      return [...leftRange, DOTS, totalPageCount]\n    }\n\n    if (shouldShowLeftDots \u0026\u0026 !shouldShowRightDots) {\n      const rightItemCount = 3 + 2 * siblingCount\n      const rightRange = range(\n        totalPageCount - rightItemCount + 1,\n        totalPageCount,\n      )\n      return [firstPageIndex, DOTS, ...rightRange]\n    }\n\n    if (shouldShowLeftDots \u0026\u0026 shouldShowRightDots) {\n      const middleRange = range(leftSiblingIndex, rightSiblingIndex)\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex]\n    }\n    return undefined\n  }, [totalCount, pageSize, siblingCount, currentPage])\n\n  return paginationRange\n}\n\n```\n\n\n\n#### Sobre usePagination:\n\nEste código é  responsável por retornar uma lista de páginas a serem exibidas em um componente de paginação, dado um conjunto de parâmetros de entrada, como o número total de itens, o número de itens por página, o número de itens vizinhos a serem exibidos à esquerda e à direita da página atual e a página atual.\n\nA função `range` é uma função que cria um array de números inteiros de um intervalo específico.\n\nO hook calcula o número total de páginas necessárias, em seguida, calcula o número total de páginas que devem ser exibidas (incluindo páginas vizinhas e pontos de suspensão), que é definido como `siblingCount + 5`.\n\nSe o número total de páginas for menor ou igual ao número total de páginas que devem ser exibidas, a função simplesmente retorna um array contendo todas as páginas de 1 a `totalPageCount`.\n\nSe o número total de páginas for maior que o número total de páginas que devem ser exibidas, a função calculará quais páginas vizinhas devem ser exibidas com base na página atual e no número de páginas vizinhas desejadas. A função também calcula se os pontos de suspensão devem ser exibidos à esquerda ou à direita, com base nas páginas vizinhas calculadas anteriormente.\n\nA função `useMemo` é usada para armazenar em cache o resultado da lista de páginas, garantindo que ela só seja recalculada quando as dependências (total de itens, número de itens por página, número de itens vizinhos e página atual) mudarem.\n\nNo final, o hook retorna a lista de páginas calculada.\n\n\n\n![gif pagination](/images/posts/paginate.gif)\n\n\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2023-03-14-Pagination:"},"buildId":"Z-Z3-Mln8C51_MylYNhoZ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>