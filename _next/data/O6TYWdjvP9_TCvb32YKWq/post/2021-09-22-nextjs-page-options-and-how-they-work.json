{"pageProps":{"frontmatter":{"title":"Next.js page options and how they work","metaTitle":"Next.js page options and how they work","metaDesc":"How to use pages in Next.js exploring the options","socialImage":"images/banner/22-09-2021.jpg","date":"2021-09-22","tags":["nextjs"]},"content":"\nCreating pages is an integral part of any framework. Today we'll be looking at three different types of pages that we can leverage in Next.js.\n\n1. Static pages (`/about`, `/contact`)\n2. Dynamic page content (`/posts/all`)\n3. Dynamic page paths (`/posts/1`, `posts/2`)\n\nLet's look at how we can create these in Next.js.\n\n## Static pages in Next.js\n\nTo create static pages, we can simply create a file in our `pages` folder.\nThis file can be a variety of extensions: `.js`, `.jsx`, `.ts`, `.tsx`.\n\nLet's create a simple static contact page for our [Next.js tailwind starter](https://github.com/rebelchris/next-tailwind).\n\nCreate a file called `contact.js` in your `pages` folder.\n\n```js\nimport Head from 'next/head';\n\nexport default function Contact() {\n  return (\n    <div className='flex items-center justify-center min-h-screen'>\n      <Head>\n        <title>Contact page</title>\n        <meta name='description' content='Contact us' />\n        <link rel='icon' href='/favicon.ico' />\n      </Head>\n\n      <div className='max-w-xs my-2 overflow-hidden rounded shadow-lg'>\n        <div className='px-6 py-4'>\n          <div className='mb-2 text-xl font-bold'>Contact us</div>\n          <p className='text-base text-grey-darker'>\n            This will be the place to contact us later on.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n```\n\nAnd now if we run our script again `npm run dev` we can visit `http://localhost:3000/contact`.\n\nThis should now show the page we just created.\n\n![Contact page in Next.js](https://cdn.hashnode.com/res/hashnode/image/upload/v1631702332167/H9HkNDp6F.png)\n\n## Creating dynamic based pages\n\nHowever, we often want our page to contain data from an external resource.\n\nLet's take the Anime API we used before as an example.\nThe API endpoint we'll be using: `https://api.jikan.moe/v3/top/anime/1`.\n\nBut let's first create a file called `shows.js` that should list all the top anime shows.\n\nWe need to use the `getStaticProps` function for this to work. This function will fire and fetch data from an API.\nThen passes it to the actual view.\n\nSo let's break it up into sections and fill those out one by one.\n\n```js\nfunction Shows({ shows }) {\n  return (\n    // HTML CODE\n  );\n}\n\nexport async function getStaticProps() {\n  const shows = // TODO;\n  return {\n    props: {\n      shows,\n    },\n  };\n}\n\nexport default Shows;\n```\n\nSo this is the main wireframe. We have our function that contains the JSX code (HTML), then we have the `getStaticProps` function, which fires on build time.\n\nThis can do API calls while we await it.\nAnd we can then return them as props.\n\nThese props are passed to our primary function (Shows).\n\nSo let's see how we can fetch data inside the `getStaticProps` function.\n\n```js\nconst res = await fetch('https://api.jikan.moe/v3/top/anime/1');\nconst shows = await res.json();\n```\n\nAs you can see, top-level awaits are supported out of the box, which is super handy!\nWe call the API, await the response, and convert it into a JSON object.\n\nThen as for our HTML, we can now use this `shows` object since we passed it to our function.\n\n```js\nfunction Shows({ shows }) {\n  return (\n    <div className='grid min-h-screen grid-cols-5 gap-4 p-5'>\n      {shows.top.map((show) => (\n        <div\n          key={show.id}\n          className='max-w-xs my-2 overflow-hidden rounded shadow-lg '\n        >\n          <img\n            className='flex-1 object-cover w-full h-80'\n            src={show.image_url}\n            alt={show.title}\n          />\n          <div className='px-6 py-4'>\n            <div className='mb-2 text-xl font-bold'>{show.title}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n```\n\nWe create a simple render of each show's own card, with an image and title of the anime show.\n\n![Top anime show in Next.js](https://cdn.hashnode.com/res/hashnode/image/upload/v1631712831922/I1Yb9K2DQ.png)\n\n## Creating dynamic page paths\n\nWe still only have one page that loads dynamic data with the above example.\nLet's say we want to create a single page for each show.\n\nThese pages could host more detailed information about the show.\n\nIn Next.js, we can create dynamic pages by wrapping them in brackets like `show/[id].js` where the `[id]` is dynamic.\n\nFor this, we can leverage the `getStaticPaths` method.\nThis can pre-fetch our endpoints.\n\nAnd we can still include the `getStaticProps` to retrieve the data on build time.\n\nLet's put this together.\n\n```js\nfunction Show(show) {\n  return <h1>{show.title}</h1>;\n}\n\nexport async function getStaticPaths() {\n  const res = await fetch('https://api.jikan.moe/v3/top/anime/1');\n  const shows = await res.json();\n  const paths = shows.top.map((show) => {\n    return {\n      params: { id: show.mal_id.toString() },\n    };\n  });\n\n  return { paths, fallback: false };\n}\n\nexport async function getStaticProps({ params }) {\n  const res = await fetch(`https://api.jikan.moe/v3/anime/${params.id}`);\n  const show = await res.json();\n  return { props: show };\n}\n\nexport default Show;\n```\n\nWow, quite a lot going on, right?\nFirst, we have a simple view to keep things easy. We use an `h1` to return the title of the single page.\n\nThen we use `getStaticPaths` to create a path for each top show.\nWe use the `mal_id` to generate unique ID pages.\n\nThen we use the `getStaticProps` function to retrieve these IDs from the URL and fetch the detailed view for each show.\n\nIt results in a single page for each show.\n\n![Single page in Next.js](https://cdn.hashnode.com/res/hashnode/image/upload/v1631715374299/92TyD_WIe.png)\n\nAnd that's it. We now have explored these three ways of creating pages in Next.js.\nI hope you found this helpful article. You can also find the complete code on [GitHub](https://github.com/rebelchris/next-tailwind/tree/pages).\n\n### Thank you for reading, and let's connect!\n\nThank you for reading my blog. Feel free to subscribe to my email newsletter and connect on [Facebook](https://www.facebook.com/DailyDevTipsBlog) or [Twitter](https://twitter.com/DailyDevTips1)\n"},"__N_SSG":true}